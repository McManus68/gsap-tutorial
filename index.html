<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="main.css">
</head>

<body>
<main>
    <div class="content">
        <h1 class="anim1"><span>Bridging the gap</span> <span>between dream</span> <span>and reality</span></h1>
        <p class="anim1">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Odio at ipsa alias modi natus excepturi?</p>
        <a href="#" class="anim1" id="cta">Start Dreaming</a>
    </div>
</main>
<aside>
    <div class="wrapper">
        <img class="swirl" src="images/swirl.png" alt="Swirl Graphic">
    </div>
</aside>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/CSSRulePlugin.min.js"></script>

<script>

    var rule = CSSRulePlugin.getRule('span:after');

    /*
    gsap.from('.anim1', {stagger: 0.6, opacity: 0, duration: 1, y: -50, ease: 'elastic(1, 0.3)'});
    gsap.from('img', {duration: 1, opacity: 0, y: 30, delay: 1.4});
    gsap.from('aside', {duration: 1, opacity: 0, backgroundPosition: '200px 0px', delay: 1.1});
    gsap.to(rule, {cssRule: {scaleY: 0}, duration: 1})
    */

    var tl = gsap.timeline({defaults:{duration: 1} })
    tl.from('.anim1', {y: -50, stagger: 0.6, opacity: 0})
    .to(rule, {duration: 1.8, cssRule: {scaleY: 0}}, "-=2.2")
    .from('aside', {backgroundPosition: '200px 0px', opacity: 0}, "-=1.5")
    .from('img', {opacity: 0, y:30}, "-=.5")

    document.getElementById('cta').addEventListener('click', () => {
        tl.reversed() ? tl.play() : tl.reverse();
    })
</script>

</body>
</html>